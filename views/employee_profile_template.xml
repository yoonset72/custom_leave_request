<odoo>
  <template id="employee_profile_template" name="Employee Profile">
    <head>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>    
      <link rel="stylesheet" type="text/css" href="/custom_leave_request/static/src/css/register.css"/>
      <link rel="stylesheet" type="text/css" href="/custom_leave_request/static/src/css/profile.css"/>
       <script type="text/javascript" src="/custom_leave_request/static/src/js/profile.js"/>
       <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
       <meta name="csrf-token" t-att-content="request.csrf_token()"/>
    </head>
    <body>
      <div class="agb-container">
        <!-- Company Header -->
        <div class="agb-header">
          <div class="agb-logo">
            <img src="/custom_leave_request/static/src/img/logo.png" alt="AGB Communication Logo" class="agb-logo-img"/>
          </div>
          <h1 class="agb-company-name">AGB Communication</h1>
          <p class="agb-company-subtitle">Myanmar • Employee Portal</p>
          <div class="agb-contact-info">
            <span><i class="fa fa-phone"></i> +959-765492075</span>
            <span><i class="fa fa-envelope"></i> hr@agbcommunication.com</span>
          </div>
        </div>

        <!-- Navigation -->
        <div class="agb-nav">
          <a href="/employee/dashboard" class="agb-nav-link">
            <i class="fa fa-dashboard"></i> Dashboard
          </a>
          <a href="/employee/profile" class="agb-nav-link active">
            <i class="fa fa-user"></i> Profile
          </a>
          <a href="/leave/requests" class="agb-nav-link">
            <i class="fa fa-calendar"></i> Leave Request
          </a>
          <a href="/employee/register" class="agb-nav-link logout">
            <i class="fa fa-sign-out"></i> Logout
          </a>
        </div>

        <!-- Profile Content -->
        <div class="agb-profile-container">
          <!-- Profile Header Card -->
          <div class="agb-form-card agb-profile-header">
            <div class="agb-form-header">
              <div class="agb-profile-photo">
                <t t-if="employee.image_1920">
                  <img t-att-src="'data:image/png;base64,' + employee.image_1920.decode('utf-8')" 
                       class="agb-profile-img" 
                       alt="Employee Photo" />
                </t>
                <t t-else="">
                  <div class="agb-profile-avatar">
                    <i class="fa fa-user"></i>
                  </div>
                </t>
              </div>
              <div class="agb-profile-welcome">
                <h2>Welcome, <t t-esc="employee.name or 'Not Set'"/></h2>
                <p><t t-esc="employee.department_id.name if employee.department_id else 'Department'"/></p>
                <p><t t-esc="employee.job_title or 'Position'"/></p>
              </div>
              
            </div>
          </div>

          <!-- Profile Information Grid -->
          <div class="agb-profile-grid">
            <!-- Personal Information -->
            <div class="agb-form-card">
              <div class="agb-card-header">
                <h3><i class="fa fa-user"></i> Personal Information</h3>
                <button class="agb-btn-edit" onclick="editSection('personal')">
                  <i class="fa fa-edit"></i> Edit
                </button>
              </div>
              <div class="agb-card-content">
                <div class="agb-info-grid">
                  <div class="agb-info-item">
                    <label>Full Name</label>
                    <span data-field="name"><t t-esc="employee.name or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Employee ID</label>
                    <span data-field="employee_number"><t t-esc="employee.employee_number or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Gender</label>
                    <span data-field="gender"><t t-esc="employee.gender or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Date of Birth</label>
                    <span data-field="birthday"><t t-esc="employee.birthday or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>NRC Number</label>
                    <span data-field="nrc_full"><t t-esc="employee.nrc_full or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Nationality</label>
                    <span data-field="country_id.name"><t t-esc="employee.country_id.name or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Marital Status</label>
                    <span data-field="marital"><t t-esc="employee.marital or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>SSB Registration No</label>
                    <span data-field="permit_no"><t t-esc="employee.permit_no or 'Not Set'"/></span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Work Information -->
            <div class="agb-form-card">
              <div class="agb-card-header">
                <h3><i class="fa fa-briefcase"></i> Work Information</h3>
              </div>
              <div class="agb-card-content">
                <div class="agb-info-grid">
                  <div class="agb-info-item">
                    <label>Department</label>
                    <span><t t-esc="employee.department_id.name if employee.department_id else 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Job Position</label>
                    <span><t t-esc="employee.job_title or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Date of Employment</label>
                    <span><t t-esc="employee.join_date or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Approver of leave Request</label>
                    <span><t t-esc="employee.hr_officer_ids.name or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Work Email</label>
                    <span><t t-esc="employee.work_email or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Work Location</label>
                    <span>AGB Communication</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Education + Contact Information + Account Setting -->
            <div class="agb-form-card">
              <div class="agb-card-header">
                <h3><i class="fa fa-graduation-cap"></i> Education Information</h3>
                <button class="agb-btn-edit" onclick="editSection('education')">
                  <i class="fa fa-edit"></i> Edit
                </button>
              </div>
              <div class="agb-card-content">
                <div class="agb-info-grid">
                  <div class="agb-info-item">
                    <label>Highest Level of Education</label>
                    <span data-field="certificate"><t t-esc="employee.certificate or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Specialization</label>
                    <span data-field="study_field"><t t-esc="employee.study_field or 'Not Set'"/></span>
                  </div>
                  <br/>
                  <h3><i class="fa fa-address-book"></i> Contact Information</h3>
                  <div class="agb-info-item full-width">
                    <label>Home Address</label>
                    <span data-field="home_address"><t t-esc="employee.home_address or'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Personal Phone</label>
                    <span data-field="personal_phone"> <t t-esc="employee.personal_phone or 'Not Set'"/></span>
                  </div>
                  <div class="agb-info-item">
                    <label>Personal Email</label>
                    <span data-field="personal_email"><t t-esc="employee.personal_email or 'Not Set'"/></span>
                  </div>
                  <br/>
                  <h3><i class="fa fa-cog"></i> Account Settings</h3>
                  <div class="agb-settings-actions">
                  <button class="agb-btn agb-btn-outline" onclick="changePassword()">
                    <i class="fa fa-lock"></i> Change Password
                  </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="agb-footer">
          <p>© 2024 AGB Communication Myanmar. All rights reserved.</p>
          <p>Secure Employee Portal • Version 2.0</p>
        </div>
      </div>

      <!-- Edit Modal (Hidden by default) -->
      <div id="editModal" class="agb-modal" style="display: none;">
        <div class="agb-modal-content">
          <div class="agb-modal-header">
            <h3 id="modalTitle">Edit Information</h3>
            <button class="agb-modal-close" onclick="closeModal()">
              <i class="fa fa-times"></i>
            </button>
          </div>
          <div class="agb-modal-body">
            <form id="editForm" action="/employee/profile/update" method="post">
              <div id="editFields">
                <!-- Dynamic fields will be inserted here -->
              </div>
              <div class="agb-modal-actions">
                <button type="button" class="agb-btn agb-btn-outline" onclick="closeModal()">
                  Cancel
                </button>
                <button type="submit" class="agb-btn agb-btn-primary">
                  <i class="fa fa-save"></i> Save Changes
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

    </body>
    
  </template>
</odoo>